
# 🧠 0728 얕은 복사 (Shallow Copy)

> **객체의 최상위 요소만 복사**하고, 내부에 중첩된 객체는 **참조**만 복사

---

## ✅ 개념 정리

| 항목    | 설명                           |
| ----- | ---------------------------- |
| 복사 수준 | **최상위 요소만 새로운 메모리**에 복사      |
| 중첩 객체 | **기존 객체 참조 유지** (같은 주소 공유)   |
| 주요 대상 | **가변 객체**에서 주의 필요            |
| 대표 방식 | `[:]`, `.copy()`, `list()` 등 |

> ⚠️ **TIP**
> 가변 객체는 얕은 복사 후에도 내부 중첩 객체는 **원본과 동일한 주소를 참조**
> → 복사본 수정 시 **원본도 함께 변경**되는 부작용 발생

---

## ✅ 얕은 복사 방법

### 1. 리스트 슬라이스 `[:]`

```python
a = [1, 2, 3]
b = a[:]

print(a)  # [1, 2, 3]
print(b)  # [1, 2, 3]
```

---

### 2. `.copy()` 메서드

```python
a = [1, 2, 3]
b = a.copy()

print(a)  # [1, 2, 3]
print(b)  # [1, 2, 3]
```

---

### 3. `list()` 함수

```python
a = [1, 2, 3]
d = list(a)

a[0] = 100
print(a)  # [100, 2, 3]
print(d)  # [1, 2, 3]
```

---

## ✅ 얕은 복사의 한계

> 중첩된 구조(예: 리스트 안의 리스트)에서는 참조만 복사되므로 **내부 요소 수정 시 원본도 함께 변경됨**

```python
print('\n다차원 리스트 얕은 복사의 한계')
a = [1, 2, [3, 4, 5]]
b = a[:]

b[0] = 999  # 얕은 복사된 최상위 요소 → b만 변경됨
print(a)  # [1, 2, [3, 4, 5]]
print(b)  # [999, 2, [3, 4, 5]]

b[2][1] = 100  # 중첩 리스트 참조 공유
print(a)  # [1, 2, [3, 100, 5]]
print(b)  # [999, 2, [3, 100, 5]]

print(f'a[2]와 b[2]가 같은 객체인가? {a[2] is b[2]}')  # True
```

### 📌 결론 요약

* **최상위 요소만 새로운 객체**
* **내부 요소는 기존 객체와 주소 공유**
* 내부 가변 객체는 **함께 변경됨** → 이럴 땐 `deepcopy()` 사용해야 안전



##### © 2025 Migong0311 and SSAFY. All rights reserved.
