# 0728 참고

## List Comprehension

- 간결하고 효율적인 리스트 생성 방법 (`pythonic한 코드`)


```py
[표현식 for 변수 in 순회 가능한 객체 if조건식] # 단if문은 필요시만
```
- 사용 전

```py
# 각 요소의 제곱을 구하는 로직
numbers = [1,2,3,4,5]
squared_numbers = []

for num in numbers:
    squared_numbers.append(num**2)
print(squared_numbers) # [1,4,9,16,25]
```

- 사용 후
```py
numbers = [1,2,3,4,5]
squared_numbers = [num**2 for num in numbers]
print(squared_numbers) # [1,4,9,16,25]
```
> 즉 배열 선언 및 append 과정이 한줄로 요약됨

### 예시

```py
import pprint
# 예시
data1 = [[0]*(5) for _ in range(5)]
# or
data2 = [[0 for _ in range(5)] for _ in range(5)]

p.pprint(data1)
p.pprint(data2)
"""
[[0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0],
 [0, 0, 0, 0, 0]]
"""
```

- 각각 사용을 안했을때 로직은 다음과 같다

```py
# data1
data1 = []
for _ in range(5):
    row = [0] * 5
    data1.append(row)

# data2
data2 = []
for _ in range(5):
    row = []
    for _ in range(5):
        row.append(0)
    data2.append(row)

```

### 리스트 생성 방법 비교

```py

# 1. for loop
result1 = []
for i in range(10):
    result1.append(i)

# 2. list comprehension
result2 = [i for i in range(10)]
# result2 = list(i for i in range(10))

# 3. map
result3 = list(map(lambda i: i, range(10)))

print(result1)
print(result2)
print(result3)

```

### 성능 비교

1. list comprehension
    - 가장 'Pythonic'하고 대부분의 경우 우수한 성능을 보임
2. map
    - 특정 상황(int, str 등 내장 함수와 함께 사용할 때)에서 가장 빠름
    - 사용자가 직접 만든 함수나 lambda와 함께 사용될 때는 list comprehension과 성능이 비슷하거나 약간 느릴 수 있음
3. for loop
    - 일반적으로 가장 느리다고 알려져 있지만,
      python 버전이 올라가면서 다른 방식과 비슷하거나 때로는 더 나은 결과를 보이기도 함
    - 하지만, 여러 줄에 걸친 복잡한 조건문이나 예외 처리 등이 필요할 때는 유일한 선택지이며, 그 자체로 매우 유용함

> 결론
- 성능 차이는 대부분의 경우 마이크로초 단위로 미미하므로, 
  코드의 가독성과 유지보수성을 최우선으로 고려하여 상황에 맞는 가장 명확한 방법을 선택하는 것을 권장
  
##### © 2025 Migong0311 and SSAFY. All rights reserved.
