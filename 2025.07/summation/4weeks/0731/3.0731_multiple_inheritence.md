# 0731 다중 상속

- 말 그대로 여러 클래스의 상속을 받는 것
- 중복된 속성이나 메서드가 있는 경우 **<ins>상속 순서에 의해 결정</ins>**

```py
# 다중 상속 예시
class Person:
    def __init__(self, name):
        self.name = name

    def greeting(self):
        return f'안녕, {self.name}'


class Mom(Person):
    gene = 'XX'

    def swim(self):
        return '엄마가 수영'


class Dad(Person):
    gene = 'XY'

    def walk(self):
        return '아빠가 걷기'


class FirstChild(Dad, Mom):
    def swim(self):
        return '첫째가 수영'

    def cry(self):
        return '첫째가 응애'

```

- FirstChid 클래스의 파라미터가 Dad,Mom 의 클래스 2개를 다중으로 상속받음

```py
baby1 = FirstChild('아가')
print(baby1.cry())  # 첫째가 응애
print(baby1.swim())  # 첫째가 수영
print(baby1.walk())  # 아빠가 걷기
print(baby1.gene)  # ??

```

- 여기에서 각 클래스별 메서드를 호출하면 그에 맞는 리턴값이 출력됨

#### 그러나 공통된 인스턴스를 호출하면 어떻게될까?

- 정답은 FirstChild의 상속 순서에 따라 결정이된다.
- 예를들어 gene라는 인스턴스 탐색을 우선 Dad클래스부터 탐색한다.
- 만일 Dad에도 없음 Mom으로 탐색을한다.
- 여기에선 Dad 클래스에 gene라는 인스턴스가 있으므로 `baby1.gene`는 xy가 출력이된다.

> 이를 다이아몬드 문제라고 한다

### 💎 다이아몬드 문제 (The diamond problem)

- 두 클래스 **B**와 **C**가 **A**에서 상속되고  
  클래스 **D**가 **B**와 **C** 모두에서 상속될 때  
  발생하는 **모호함**.

- **B**와 **C**가 재정의한 메서드가 **A**에 있고  
  **D**가 이를 재정의하지 않은 경우라면

> 👉 **D는 B의 메서드 중 어떤 버전을 상속하는가?**  
> 👉 **아니면 C의 메서드 버전을 상속하는가?**

### 파이썬에서의 해결책

- MRO 알고리즘 사용하여 클래스 목록을 생성
- 부모클래스로부터 상속된 속성을 정해진 내부 알고리즘에 따라 검색
- 이 순서는 기본적으로 왼쪽에서 오른쪽으로 진행되며 계층 구조에서 중복되는 클래스는 한 번만 확인
- 그래서 속성이 D에서 발견되지 않으면 B에서 찾고 거기에서도 발견되지 않으면 C에서 찾고 이런식으로 진행됨

```py
class D(B,C):
    pass
```
