# 순열 1

### 단순히 순열을 생성하는 방법

```python
for i1 in range(1, 4):
    for i2 in range(1, 4):
        if i2 != i1:
            for i3 in range(1, 4):
                if i3 != i1 and i3 != i2:
                    print(i1, i2, i3)
'''
결과
1 2 3
1 3 2
2 1 3
2 3 1
3 1 2
3 2 1
'''
```

- 동일한 숫자가 포함되지 않았을 때 각 자리 수 별로 루프를 이용해 표현가능

### 백트레킹 이용한 순열 구하기

# 1️⃣ 라인별 로직 설명

```python
def backtrack(a, k, n):
    c = [0] * MAXCANDIDATES  # 후보 숫자들을 담을 리스트

    if k == n:  # 모든 자리(k개)를 다 채운 경우
        for i in range(0, k):
            print(a[i], end=" ")  # 현재까지 만든 순열 출력
        print()
    else:
        ncandidates = construct_candidates(a, k, n, c)  # 지금 자리(k)에 들어갈 수 있는 후보 숫자 생성
        for i in range(ncandidates):  # 후보 개수만큼 반복
            a[k] = c[i]  # 자리 k에 후보 숫자 하나를 넣고
            backtrack(a, k + 1, n)  # 다음 자리(k+1) 채우러 재귀 호출


def construct_candidates(a, k, n, c):
    in_perm = [False] * (NMAX + 1)  # 현재까지 사용한 숫자 체크용

    for i in range(k):  # 지금까지 뽑은 숫자들
        in_perm[a[i]] = True  # 이미 사용했다고 표시

    ncandidates = 0
    for i in range(1, NMAX + 1):  # 1부터 NMAX까지 돌면서
        if in_perm[i] == False:  # 아직 안 쓴 숫자라면
            c[ncandidates] = i  # 후보 리스트에 넣고
            ncandidates += 1  # 후보 개수 증가
    return ncandidates  # 후보 개수 리턴


MAXCANDIDATES = 3  # 후보 개수 (1~3)
NMAX = 3  # 총 숫자 개수 (1,2,3)
a = [0] * NMAX  # 순열을 저장할 배열 [0,0,0]
backtrack(a, 0, 3)  # 0번째 자리부터 시작해서 길이 3짜리 순열 생성
```

---

# 2️⃣ 유치원생도 이해할 수 있는 흐름

👉 이 문제는 **빈 자리가 3개 있는 상자**에 숫자 1, 2, 3을 넣는 놀이예요. 한 번 넣은 숫자는 다시 못 쓰고, **모든 순서를 다 만들어 보는 것**이 목표예요.

---

## 놀이 규칙

1. 첫 번째 상자부터 시작해요. → 넣을 수 있는 후보는 `[1, 2, 3]`이에요. → 하나를 넣고 다음 상자로 넘어가요.

2. 두 번째 상자에서는, → 이미 첫 번째에 넣은 숫자는 빼고 남은 숫자들만 후보에요.

3. 세 번째 상자에서도 같은 규칙!
   → 이제 남은 숫자 딱 하나만 넣으면 돼요.

4. 세 칸이 다 채워지면, → "완성된 순서"를 출력해요.

5. 그다음은 다시 돌아가서 다른 후보를 넣어보며 모든 경우를 다 찾아요.

---

## 실행 흐름 예시

* 첫 번째 칸에 `1` 넣기 → 남은 숫자 `[2,3]`

    * 두 번째 칸에 `2` 넣기 → 남은 숫자 `[3]`

        * 세 번째 칸에 `3` 넣기 → 출력 `[1,2,3]`
    * 두 번째 칸에 `3` 넣기 → 남은 숫자 `[2]`

        * 세 번째 칸에 `2` 넣기 → 출력 `[1,3,2]`
* 첫 번째 칸에 `2` 넣기 → 남은 숫자 `[1,3]`

    * 같은 방식으로 `[2,1,3]`, `[2,3,1]`
* 첫 번째 칸에 `3` 넣기 → 남은 숫자 `[1,2]`

    * 같은 방식으로 `[3,1,2]`, `[3,2,1]`

---

## 최종 출력

```
1 2 3
1 3 2
2 1 3
2 3 1
3 1 2
3 2 1
```

---

👉 정리하자면,

* 이 코드는 "빈 상자 3개"에 "숫자 1,2,3"을 **순서를 바꿔가며 전부 넣어 보는 놀이**입니다.
* 백트래킹은 "하나 넣어보고 → 다음 칸 → 다 채우면 출력 → 다시 돌아가 다른 숫자 넣기" 방식이에요.


