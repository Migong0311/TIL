<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Keyboard Event Practice</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    /* 배경색 변경 효과를 부드럽게 하기 위한 트랜지션 설정 */
    body {
      transition: background-color 0.5s ease;
    }
  </style>
</head>

<body>
  <div class="container mt-5">
    <div class="card shadow">
      <div class="card-body">
        <h2 class="card-title mb-4">키보드 이벤트 핸들러</h2>
        
        <div class="mb-3">
          <label for="keyInput" class="form-label">키를 입력하세요:</label>
          <input type="text" class="form-control" id="keyInput" placeholder="이곳에 키를 입력하면 아래에 표시됩니다.">
        </div>

        <div class="alert alert-info" role="alert" id="logMessage">
          어떤 키가 눌렸는지 여기에 표시됩니다.
        </div>

        <p class="text-muted small">* 엔터(Enter) 키를 누르면 배경색이 무작위로 변경됩니다.</p>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

  <script>
    // 1. 필요한 DOM 요소 선택
    const inputElement = document.querySelector('#keyInput');
    const logMessage = document.querySelector('#logMessage');
    const bodyElement = document.querySelector('body');

    // 2. 랜덤한 색상을 생성하는 헬퍼 함수
    const getRandomColor = function () {
      const letters = '0123456789ABCDEF';
      let color = '#';
      for (let i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    };

    // 3. 키보드 이벤트 핸들러 함수 정의
    const handleKeyDown = function (event) {
      // [기능 1] 눌린 키 정보를 화면에 출력
      // event.key는 사용자가 누른 키의 값을 반환합니다.
      logMessage.textContent = `현재 눌린 키: ${event.key}`;

      // [기능 2] 엔터키 감지 및 배경색 변경
      if (event.key === 'Enter') {
        const newColor = getRandomColor();
        bodyElement.style.backgroundColor = newColor;
        
        // 배경색 변경 사실을 로그에도 표시
        logMessage.textContent += ` (배경색이 ${newColor}로 변경되었습니다!)`;
      }
    };

    // 4. 입력창(input)에 'keydown' 이벤트 리스너 등록
    // 사용자가 키를 누르는 순간(keydown) 이벤트가 발생합니다.
    inputElement.addEventListener('keydown', handleKeyDown);

  </script>
</body>

</html>